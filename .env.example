# NesVentory Environment Configuration - Version 4.3 (SQLite)
# Copy this file to .env and update with your actual values
# IMPORTANT: Never commit .env to version control!

# =============================================================================
# SECURITY SETTINGS (REQUIRED)
# =============================================================================
# Generate a secure secret key using: python -c "import secrets; print(secrets.token_urlsafe(32))"
# DO NOT use the example values below in production!
SECRET_KEY=your-super-secret-key-change-this-in-production
JWT_SECRET_KEY=your-jwt-secret-key-change-this-in-production

# JWT token expiration in minutes
# Default in config.py is 1440 (24 hours) for convenience
# For production, consider a shorter duration (e.g., 30-60 minutes) for better security
ACCESS_TOKEN_EXPIRE_MINUTES=30

# JWT algorithm (recommended: HS256)
JWT_ALGORITHM=HS256

# =============================================================================
# DATABASE SETTINGS (SQLite in v2.0)
# =============================================================================
# SQLite database file path
# Default locations:
# - Docker: /app/data/nesventory.db (mount as volume for persistence)
# - Local development: ./data/nesventory.db (relative to working directory)
#
# The parent directory will be created automatically if it doesn't exist.
# Uncomment and set a custom path if needed:
# DB_PATH=/app/data/nesventory.db

# =============================================================================
# DOCKER USER CONFIGURATION (OPTIONAL)
# =============================================================================
# Set the user ID (PUID) and group ID (PGID) for the container process
# This ensures files created by the container have the correct ownership
# Default: 1000 (typical first user on Linux systems)
# To find your user ID: id -u
# To find your group ID: id -g
PUID=1000
PGID=1000

# Set the UMASK for file creation permissions
# 002 = Files created with permissions 664 (rw-rw-r--), Directories with 775 (rwxrwxr-x)
# 022 = Files created with permissions 644 (rw-r--r--), Directories with 755 (rwxr-xr-x)
# Default: 002
UMASK=002

# Timezone configuration for the container
# Use standard IANA timezone names (e.g., America/New_York, Europe/London)
# Default: Etc/UTC
# See full list: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TZ=Etc/UTC

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
PROJECT_NAME=NesVentory
# Single port for unified v2.0 container (serves both frontend and backend)
APP_PORT=8001

# =============================================================================
# CORS SETTINGS
# =============================================================================
# Comma-separated list of allowed CORS origins
# For v2.0 unified container, CORS can be more restrictive since everything is served from one origin
# You can leave this empty or set it to your domain for production
CORS_ORIGINS=

# =============================================================================
# AI PHOTO DETECTION SETTINGS (OPTIONAL)
# =============================================================================
# Google Gemini API key for AI-powered item detection from photos
# Get your API key from: https://aistudio.google.com/app/apikey
# Leave empty to disable AI photo detection feature
GEMINI_API_KEY=

# Gemini model to use for image analysis (default: gemini-2.0-flash)
# Options: gemini-2.0-flash, gemini-1.5-flash, gemini-1.5-pro
GEMINI_MODEL=gemini-2.0-flash

# Delay between AI requests in seconds (to avoid rate limits on free tier)
# Free tier allows 15 requests per minute, so 4-5 seconds delay is recommended
# Set to 0 to disable throttling (for paid tier users)
# Default: 4.0 seconds
GEMINI_REQUEST_DELAY=4.0

# =============================================================================
# GOOGLE OAUTH SETTINGS (OPTIONAL)
# =============================================================================
# Enable "Sign in with Google" for SSO login, registration, and Google Drive backup
# To set up Google OAuth:
# 1. Go to https://console.cloud.google.com/apis/credentials
# 2. Create a new OAuth 2.0 Client ID (Web application type)
# 3. Add your app's domain to Authorized JavaScript origins (e.g., http://localhost:8001)
# 4. Add your app's domain/postmessage to Authorized redirect URIs
# 5. Enable the Google Drive API in your project (APIs & Services > Library > Google Drive API)
# 6. Copy the Client ID and Client Secret below
# Leave empty to disable Google OAuth and Google Drive backup
#
# Note: Google Drive backup uses the drive.file scope which only allows access to
# files created by the application (NesVentory backup files only)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# =============================================================================
# REGISTRATION SETTINGS (OPTIONAL)
# =============================================================================
# Set to true to disable new user self-registration
# When enabled, only administrators can create new user accounts via the Admin panel
# This is useful for private/family installations where you want to control access
# Default: false (registration is enabled)
DISABLE_SIGNUPS=false

# =============================================================================
# STORAGE SETTINGS (OPTIONAL)
# =============================================================================
# Storage backend for uploaded files (photos, documents)
# Options: "local" (default) or "s3"
STORAGE_TYPE=local

# S3 Storage Configuration (required when STORAGE_TYPE is "s3")
# AWS S3 bucket name for storing uploaded files
S3_BUCKET_NAME=

# AWS region for the S3 bucket (default: us-east-1)
S3_REGION=us-east-1

# AWS credentials (optional if using IAM roles or environment variables)
# If not set, boto3 will use the default credential chain:
# 1. Environment variables (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY)
# 2. AWS credentials file (~/.aws/credentials)
# 3. IAM role for EC2/ECS/Lambda
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=

# Custom S3 endpoint URL (optional)
# Use this for S3-compatible services like MinIO, DigitalOcean Spaces, etc.
# Example: http://minio:9000 or https://nyc3.digitaloceanspaces.com
S3_ENDPOINT_URL=

# Public URL prefix for accessing files (optional)
# Use this when serving files through CloudFront, a CDN, or custom domain
# If not set, presigned URLs will be generated for file access
# Example: https://d123456789.cloudfront.net or https://cdn.example.com
S3_PUBLIC_URL=
