# NesVentory Environment Configuration - Version 4.3 (SQLite)
# Copy this file to .env and update with your actual values
# IMPORTANT: Never commit .env to version control!

# =============================================================================
# SECURITY SETTINGS (REQUIRED)
# =============================================================================
# Generate a secure secret key using: python -c "import secrets; print(secrets.token_urlsafe(32))"
# DO NOT use the example values below in production!
SECRET_KEY=your-super-secret-key-change-this-in-production
JWT_SECRET_KEY=your-jwt-secret-key-change-this-in-production

# JWT token expiration in minutes
# Default in config.py is 1440 (24 hours) for convenience
# For production, consider a shorter duration (e.g., 30-60 minutes) for better security
ACCESS_TOKEN_EXPIRE_MINUTES=30

# JWT algorithm (recommended: HS256)
JWT_ALGORITHM=HS256

# =============================================================================
# DATABASE SETTINGS (SQLite in v2.0)
# =============================================================================
# SQLite database file path
# Default locations:
# - Docker: /app/data/nesventory.db (mount as volume for persistence)
# - Local development: ./data/nesventory.db (relative to working directory)
#
# The parent directory will be created automatically if it doesn't exist.
# Uncomment and set a custom path if needed:
# DB_PATH=/app/data/nesventory.db

# =============================================================================
# DOCKER USER CONFIGURATION (OPTIONAL)
# =============================================================================
# Set the user ID (PUID) and group ID (PGID) for the container process
# This ensures files created by the container have the correct ownership
# Default: 1000 (typical first user on Linux systems)
# To find your user ID: id -u
# To find your group ID: id -g
PUID=1000
PGID=1000

# Set the UMASK for file creation permissions
# 002 = Files created with permissions 664 (rw-rw-r--), Directories with 775 (rwxrwxr-x)
# 022 = Files created with permissions 644 (rw-r--r--), Directories with 755 (rwxr-xr-x)
# Default: 002
UMASK=002

# Timezone configuration for the container
# Use standard IANA timezone names (e.g., America/New_York, Europe/London)
# Default: Etc/UTC
# See full list: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TZ=Etc/UTC

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
PROJECT_NAME=NesVentory
# Single port for unified v2.0 container (serves both frontend and backend)
APP_PORT=8001

# =============================================================================
# CORS SETTINGS
# =============================================================================
# Comma-separated list of allowed CORS origins
# For v2.0 unified container, CORS can be more restrictive since everything is served from one origin
# You can leave this empty or set it to your domain for production
CORS_ORIGINS=

# =============================================================================
# AI PHOTO DETECTION SETTINGS (OPTIONAL)
# =============================================================================
# Google Gemini API key for AI-powered item detection from photos
# Get your API key from: https://aistudio.google.com/app/apikey
# Leave empty to disable AI photo detection feature
GEMINI_API_KEY=

# Gemini model to use for image analysis (default: gemini-2.0-flash-exp)
# Available options:
#  - gemini-2.0-flash-exp: Latest experimental flash model (recommended)
#  - gemini-1.5-flash: Fast and efficient for high-throughput tasks
#  - gemini-1.5-flash-8b: Smaller, faster version for simple tasks
#  - gemini-1.5-pro: Best for complex reasoning tasks
#  - gemini-exp-1206: Latest experimental model
# You can also configure this in the Admin panel GUI
GEMINI_MODEL=gemini-2.0-flash-exp

# Delay between AI requests in seconds (to avoid rate limits on free tier)
# Free tier allows 15 requests per minute, so 4-5 seconds delay is recommended
# Set to 0 to disable throttling (for paid tier users)
# Default: 4.0 seconds
GEMINI_REQUEST_DELAY=4.0

# =============================================================================
# GOOGLE OAUTH SETTINGS (OPTIONAL)
# =============================================================================
# Enable "Sign in with Google" for SSO login, registration, and Google Drive backup
# To set up Google OAuth:
# 1. Go to https://console.cloud.google.com/apis/credentials
# 2. Create a new OAuth 2.0 Client ID (Web application type)
# 3. Add your app's domain to Authorized JavaScript origins (e.g., http://localhost:8001)
# 4. Add your app's domain/postmessage to Authorized redirect URIs
# 5. Enable the Google Drive API in your project (APIs & Services > Library > Google Drive API)
# 6. Copy the Client ID and Client Secret below
# Leave empty to disable Google OAuth and Google Drive backup
#
# Note: Google Drive backup uses the drive.file scope which only allows access to
# files created by the application (NesVentory backup files only)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# =============================================================================
# REGISTRATION SETTINGS (OPTIONAL)
# =============================================================================
# Set to true to disable new user self-registration
# When enabled, only administrators can create new user accounts via the Admin panel
# This is useful for private/family installations where you want to control access
# Default: false (registration is enabled)
DISABLE_SIGNUPS=false

# =============================================================================
# OIDC / AUTHELIA SETTINGS (OPTIONAL)
# =============================================================================
# Enable OIDC authentication (e.g. Authelia, Keycloak)
# OIDC_DISCOVERY_URL is usually https://your-provider.com/.well-known/openid-configuration
# Leave empty to disable OIDC
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=
OIDC_DISCOVERY_URL=
OIDC_PROVIDER_NAME=Authelia
OIDC_BUTTON_TEXT=Sign in with Authelia

